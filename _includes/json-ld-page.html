<script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "{% if page.type %}{{ page.type }}{% elsif page.is_post %}BlogPosting{% else %}WebPage{% endif %}",
        {% if page.title %}"name": "{{ page.title[ page.lang ] }}",{% endif %}
        {% if page.description %}"description": "{{ page.description[ page.lang ] }}",{% endif %}
        {% if page.author or site.author %}"author":
            {
                "@type": "Person",
                "name": "{% if page.author %}{{ page.author[ page.lang ] }}{% else %}{{ site.author[ page.lang ] }}{% endif %}"
            },{% endif %}
        {% if page.date %}"dateCreated": "{{ page.date }}",{% endif %}
        {%- unless page.pageclass contains "home" or page.breadcrumbs == false -%}"breadcrumb":
            {
                "@type": "BreadcrumbList",
                "itemListElement": [
                    {
                        "@type": "ListItem",
                        "position": 1,
                        "item": {
                            "@type": "WebPage",
                            "@id": "{{ i18nText-homePage }}",
                            "name": "{{ i18nText-home }}"
                        }
                    }
                {% for breadcrumb in page.breadcrumbs %}
                    {
                        "@type": "ListItem",
                        "position": {{ forloop.index | plus: 1 }},
                        "item": {
                            "@type": "{% if breadcrumb.type %}{{ breadcrumb.type }}{% else %}WebPage{% endif %}",
                            "@id": "{{ site.url }}{{ site.baseurl }}{% if breadcrumb.url == 'page.url' %}{{ page.url }}{% else %}{{ breadcrumb.url }}{% endif %}",
                            "name": "{% if breadcrumb.title == 'page.title' %}{{ page.title }}{% else %}{{ breadcrumb.title }}{% endif %}"
                        }
                    }{% unless forloop.last %},{% endunless %}
                {% endfor %}]
            },{% endunless %}
        "url": "{{ site.url }}{{ site.baseurl }}{{ page.url }}"
    }
</script>
